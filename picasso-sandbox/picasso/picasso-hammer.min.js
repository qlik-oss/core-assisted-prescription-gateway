/**
 * @qlik/picasso-hammer v0.33.0
 * Copyright (c) 2017 QlikTech International AB
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.picassoHammer=n()}(this,function(){"use strict";function e(e){return t[e]||e}function n(n,t,o){function i(e){f=e.key,u={chart:n,mediator:t,settings:a=e},a.gestures=a.gestures||[],void 0===a.enable&&(a.enable=!0)}function r(){"function"==typeof a.enable&&(a.enable=a.enable.bind(u)()),a.enable&&(a.gestures.forEach(function(n){n.options=n.options||{},void 0===n.options.enable&&(n.options.enable=!0),"function"==typeof n.options.enable&&(n.options.enable=n.options.enable.bind(u));var t=e(n.type);Hammer&&Hammer[t]&&(n.options.event=n.options.event||n.type.toLowerCase(),(c=c||new Hammer.Manager(o)).add(new Hammer[t](n.options)),Object.keys(n.events).forEach(function(e){n.events[e]=n.events[e].bind(u),c.on(e,n.events[e])}),p.push(n))}),a.gestures.forEach(function(n){var t=e(n.type);Hammer&&Hammer[t]&&(n.recognizeWith&&c.get(n.options.event).recognizeWith(n.recognizeWith.split(" ").filter(function(e){return""!==e})),n.requireFailure&&c.get(n.options.event).requireFailure(n.requireFailure.split(" ").filter(function(e){return""!==e})))}))}function s(){p.forEach(function(e){Object.keys(e.events).forEach(function(n){c.off(n,e.events[n])}),c.remove(e.options.event)}),p=[]}var a=void 0,u=void 0,c=void 0,f=void 0,p=[],l=!0;return{get key(){return f},set:function(e){i(e),s(),l&&r()},off:function(){l=!1,s()},on:function(){l=!0,0===p.length&&r()},destroy:function(){s(),c&&c.destroy(),c=null,u=null,a=null}}}var t={click:"Tap",Click:"Tap",tap:"Tap",pan:"Pan",swipe:"Swipe",rotate:"Rotate",press:"Press",pinch:"Pinch"};return function(e){e.interaction("hammer",n)}});
