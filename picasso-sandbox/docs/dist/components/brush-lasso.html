<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>picasso.js docs - Components/brush-lasso</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/github.min.css">
    <link href="../../style.css" rel="stylesheet"/>
    <link href="../../favicon.ico" rel="icon" >
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
    <script>
      window.onload = function() {
        hljs.configure({
          languages: ["javascript"]
        });

        var inlineBlocks = document.querySelectorAll('code');
        Array.prototype.slice.call(inlineBlocks).forEach(function(b) {
          if(b.parentNode.tagName !== "PRE") {
            b.classList.add("inline");
          } else {
            hljs.highlightBlock(b);
          }
        });
      };
    </script>
</head>
<body>
    <div id="page">
    <div class="header-wrapper">
      <div class="header">
        <a class="header-logo" href="./index.html">
          <img src="../../picasso-logo.svg">
        </a>
        <div class="header-links">
          <!--<a href="#">Github</a>-->
        </div>
      </div>
    </div>
        <div class="container" id="container">
      <div class="sidebar">
        <ul><li>
  <a href="../../dist/index.html">Index</a>
</li>
<li>
  <a href="../../dist/QIX selections.html">QIX selections</a>
</li>
<li>
  <a href="../../dist/README.html">README</a>
</li>
<li>
  <a href="../../dist/brushing.html">Brushing</a>
</li>
<li>
  <a href="../../dist/chart.html">Chart</a>
</li>
<li>
  <a href="../../dist/component.html">Component</a>
</li>
<li>
  <a href="../../dist/components/axis.html">Components / axis</a>
</li>
<li>
  <a href="../../dist/components/box-marker.html">Components / box Marker</a>
</li>
<li>
  <a href="../../dist/components/brush-area-dir.html">Components / brush Area Dir</a>
</li>
<li>
  <a href="../../dist/components/brush-lasso.html">Components / brush Lasso</a>
</li>
<li>
  <a href="../../dist/components/brush-range.html">Components / brush Range</a>
</li>
<li>
  <a href="../../dist/components/grid-line.html">Components / grid Line</a>
</li>
<li>
  <a href="../../dist/components/labels.html">Components / labels</a>
</li>
<li>
  <a href="../../dist/components/legend-cat.html">Components / legend Cat</a>
</li>
<li>
  <a href="../../dist/components/legend-seq.html">Components / legend Seq</a>
</li>
<li>
  <a href="../../dist/components/line.html">Components / line</a>
</li>
<li>
  <a href="../../dist/components/pie.html">Components / pie</a>
</li>
<li>
  <a href="../../dist/components/point-marker.html">Components / point Marker</a>
</li>
<li>
  <a href="../../dist/components/range.html">Components / range</a>
</li>
<li>
  <a href="../../dist/components/ref-line.html">Components / ref Line</a>
</li>
<li>
  <a href="../../dist/components/text.html">Components / text</a>
</li>
<li>
  <a href="../../dist/data-brush.html">Data Brush</a>
</li>
<li>
  <a href="../../dist/data.html">Data</a>
</li>
<li>
  <a href="../../dist/dock-layout.html">Dock Layout</a>
</li>
<li>
  <a href="../../dist/interaction.html">Interaction</a>
</li>
<li>
  <a href="../../dist/interactions/hammer.html">Interactions / hammer</a>
</li>
<li>
  <a href="../../dist/interactions/native.html">Interactions / native</a>
</li>
<li>
  <a href="../../dist/picasso.html">Picasso</a>
</li>
<li>
  <a href="../../dist/scales.html">Scales</a>
</li>
<li>
  <a href="../../dist/scroll-api.html">Scroll Api</a>
</li>
</ul>
      </div>
      <div class="content">
              <h1 id="-brush-lasso-component"><code>brush-lasso</code> component</h1>
<h2 id="definition">Definition</h2>
<p>The brush-lasso component have 4 different types of listeners that can be utilized to visulize a lasso and brush on components.</p>
<ul>
<li>lassoStart - Initilize the lasso. This will make the other listeners active. If a start has not been triggered, the other listerers have no effect.</li>
<li>lassoMove - To create a lasso, at least one lassoMove has to be triggered. On each lassoMove a draw call is performed and a brush is trigged on the line segment created between the previous lasso coordinate and the current cooridnate.</li>
<li>lassoEnd - If within snap threshold - the lasso is closed and a brush on is trigged on the area of the enclosed lasso, if not - no brush is triggered.</li>
<li>lassoCancel - Cancel the current lasso by removing the visual parts and trigger an end event the brushes.</li>
</ul>
<pre><code class="lang-js">{
  type: &#39;brush-lasso&#39;,
  key: &#39;lassoComp&#39;, // component identifier
  settings: {
    brush: {
      components: {
        key: &#39;key1&#39;, // Component key to trigger brush on
        contexts: [&#39;brushLasso&#39;],
        data: [&#39;self&#39;],
        action: &#39;add&#39;
      }
    },
    snapIndicator: {
      threshold: 75, // Minimum distance in pixel before the snap indicator is displayed and the lasso is closed
      strokeDasharray: &#39;5, 5&#39;,
      stroke: &#39;black&#39;,
      strokeWidth: 2,
      opacity: 0.5
    },
    lasso: {
      fill: &#39;transparent&#39;,
      stroke: &#39;black&#39;,
      strokeWidth: 2,
      opacity: 0.7,
      strokeDasharray: &#39;15, 5&#39;,
    },
    startPoint: {
      r: 10,
      fill: &#39;green&#39;,
      stroke: &#39;black&#39;,
      strokeWidth: 1,
      opacity: 1
    }
  }
}
</code></pre>
<h2 id="example-usage">Example usage</h2>
<pre><code class="lang-js">var lassoRef;

picasso.chart({
  element: element,
  data: data,
  settings: {
    components: [
      {
        key: &#39;key1&#39;,
        type: &#39;point-marker&#39;,
        brush: {
          consume: [
            {
              context: &#39;myLassoContext&#39;,
              style: {
                inactive: {
                  opacity: 0.3
                }
              }
            }
          ]
        },
        ...
      },
      {
        type: &#39;interaction&#39;,
        require: [&#39;chart&#39;],
        actions: [
          {
            type: &#39;Pan&#39;,
            handlers: {
              panstart: function onPanStart(e) {
                this.chart.component(&#39;lassoComp&#39;).emit(&#39;lassoStart&#39;, e); // If it should on trigger on a specific component, use chartInstance.componentsFromPoint() to determine if start is valid or not
              },
              pan: function onPan(e) {
                this.chart.component(&#39;lassoComp&#39;).emit(&#39;lassoMove&#39;, e);
              },
              panend: function onPanEnd(e) {
                this.chart.component(&#39;lassoComp&#39;).emit(&#39;lassoEnd&#39;, e);
              }
            }
          }
        ]
      },
      {
        key: &#39;lassoComp&#39;,
        type: &#39;brush-lasso&#39;,
        brush: {
          components: [
            {
              key: &#39;key1&#39;,
              contexts: [&#39;myLassoContext&#39;],
              data: [&#39;self&#39;]
            }
          ]
        }
      }

    ]
  }
});
</code></pre>

          </div>
        </div>
    </div>
</body>
</html>
